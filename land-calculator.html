<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Land Area Calculator - LAC Tools | ‡§ñ‡•á‡§§ ‡§ï‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ ‡§®‡§ø‡§ï‡§æ‡§≤‡•á‡§Ç</title>
    <meta name="description" content="LAC Tools - ‡§Æ‡§®‡•Ä‡§∑ ‡§ï‡•Å‡§Æ‡§æ‡§∞ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§∏‡§¨‡§∏‡•á ‡§∏‡§ü‡•Ä‡§ï Land Area Calculator. Bigha, Kattha, Dhur aur Square Feet ‡§Æ‡•á‡§Ç ‡§ñ‡•á‡§§ ‡§ï‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§®‡§ø‡§ï‡§æ‡§≤‡•á‡§Ç‡•§">
    <meta name="keywords" content="Land Calculator, LAC Tools, Bigha Kattha Calculator, Area Converter, Bihar Land Calculator, Agriculture Tool">
    <meta name="author" content="LAC Tools">
    <link rel="canonical" href="https://yourdomain.com/">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Land Area Calculator - LAC Tools",
      "url": "https://yourdomain.com",
      "description": "Calculate land area in Bigha, Kattha, Dhur, and Square Feet easily.",
      "applicationCategory": "Tool",
      "operatingSystem": "Web",
      "author": {
        "@type": "Person",
        "name": "Manish Kumar",
        "email": "manishxyz659@gmail.com"
      }
    }
    </script>

    <style>
        /* NAV BAR STYLES (COPIED FROM INDEX.HTML) */
        :root { 
            --primary: #4f46e5; 
            --secondary: #f59e0b;
            --bg: #f8fafc; 
            --text: #1e293b; 
            --accent: #818cf8; 
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --nav-bg: #ffffff;
            --nav-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            background: var(--bg); 
            color: var(--text); 
            padding: 0;
            margin: 0;
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
        }
        
        /* Navigation Bar */
        .navbar {
            background: var(--nav-bg);
            box-shadow: var(--nav-shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 0 20px;
            animation: slideDown 0.5s ease-out;
        }
        
        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            position: relative;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .logo-container:hover {
            transform: scale(1.05);
        }
        
        .logo {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, var(--primary) 0%, #3730a3 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.5rem;
            font-family: 'Arial Black', sans-serif;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .logo-container:hover .logo {
            transform: rotate(-5deg) scale(1.1);
        }
        
        .logo-text {
            font-size: 1.6rem;
            font-weight: 900;
            color: var(--primary);
            letter-spacing: -0.5px;
            transition: all 0.3s ease;
        }
        
        .logo-subtext {
            font-size: 0.8rem;
            color: #64748b;
            margin-top: -3px;
            transition: all 0.3s ease;
        }
        
        .nav-links {
            display: flex;
            gap: 5px;
            align-items: center;
        }
        
        .nav-link {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
            padding: 10px 18px;
            border-radius: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            white-space: nowrap;
            overflow: hidden;
        }
        
        .nav-link::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(79, 70, 229, 0.1);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.4s ease, height 0.4s ease;
        }
        
        .nav-link:hover::before {
            width: 200%;
            height: 200%;
        }
        
        .nav-link:hover {
            color: var(--primary);
        }
        
        .nav-link.active {
            color: var(--primary);
            background: rgba(79, 70, 229, 0.1);
            font-weight: 600;
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: var(--primary);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.7);
            }
            70% {
                box-shadow: 0 0 0 6px rgba(79, 70, 229, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(79, 70, 229, 0);
            }
        }
        
        /* Explore All Tools Button in Navbar */
        .explore-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            margin-left: 10px;
            white-space: nowrap;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .explore-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s ease;
            z-index: -1;
        }
        
        .explore-btn:hover::before {
            left: 100%;
        }
        
        .explore-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 25px rgba(79, 70, 229, 0.3);
        }
        
        /* IMPROVED HAMBURGER MENU BUTTON - CORNER POSITIONED */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text);
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 1001;
            margin-left: auto;
        }
        
        .mobile-menu-btn span {
            display: block;
            width: 24px;
            height: 2px;
            background-color: var(--text);
            margin: 5px 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        
        .mobile-menu-btn:hover {
            background: rgba(79, 70, 229, 0.1);
        }
        
        .mobile-menu-btn.active {
            transform: rotate(90deg);
        }
        
        .mobile-menu-btn.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .mobile-menu-btn.active span:nth-child(2) {
            opacity: 0;
        }
        
        .mobile-menu-btn.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }
        
        .mobile-menu-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 998;
            backdrop-filter: blur(2px);
        }
        
        .mobile-menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: flex;
                position: fixed;
                top: 0;
                right: -100%;
                width: 80%;
                max-width: 300px;
                height: 100vh;
                background: white;
                flex-direction: column;
                padding: 80px 20px 20px;
                box-shadow: -10px 0 30px rgba(0,0,0,0.15);
                transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                z-index: 999;
                gap: 0;
            }
            
            .nav-links.active {
                right: 0;
            }
            
            .nav-link {
                padding: 15px;
                margin: 5px 0;
                border-radius: 10px;
                transform: translateX(20px);
                opacity: 0;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            .nav-links.active .nav-link {
                transform: translateX(0);
                opacity: 1;
                transition-delay: calc(0.07s * var(--i));
            }
            
            .nav-link.active::after {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .explore-btn {
                margin: 20px 0 0 0;
                justify-content: center;
                transform: translateY(20px);
                opacity: 0;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) 0.3s;
            }
            
            .nav-links.active .explore-btn {
                transform: translateY(0);
                opacity: 1;
            }
            
            .mobile-menu-overlay {
                display: block;
            }
            
            .mobile-menu-overlay.active {
                opacity: 1;
                visibility: visible;
            }
        }
        
        @media (max-width: 1100px) {
            .nav-links {
                gap: 3px;
            }
            
            .nav-link {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .explore-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 992px) {
            .nav-links {
                gap: 3px;
            }
            
            .explore-btn {
                margin-left: 5px;
            }
        }

        /* LAND CALCULATOR MAIN STYLES */
        .box { 
            width: 100%; 
            max-width: 550px; 
            background: #fff; 
            padding: 20px; 
            border-radius: 24px; 
            box-shadow: 0 10px 40px rgba(0,0,0,0.05); 
            box-sizing: border-box;
            margin: 20px auto;
            flex: 1;
        }
        
        .top { text-align: center; margin-bottom: 20px; }
        h1 { margin: 0; font-size: 32px; color: var(--primary); font-weight: 900; text-transform: uppercase; line-height: 1.2; letter-spacing: -1px; }
        .ad-slot { background: #f1f5f9; margin: 15px 0; display: flex; justify-content: center; align-items: center; min-height: 90px; border-radius: 12px; font-size: 12px; color: #94a3b8; overflow: hidden; }
        .card { background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 12px; padding: 16px; margin-bottom: 15px; }
        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 10px; }
        .full-width { grid-column: span 2; }
        label { font-size: 13px; font-weight: 600; color: #64748b; display: block; margin-bottom: 4px; }
        
        /* Dropdown with Arrow Styling */
        .select-wrapper { position: relative; width: 100%; }
        select { 
            width: 100%; padding: 12px; border: 1.5px solid #cbd5e1; border-radius: 10px; 
            font-size: 16px; box-sizing: border-box; transition: 0.2s; 
            appearance: none; -webkit-appearance: none; background: #fff;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2364748b' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C2.185 5.355 2.398 5 2.796 5h10.408c.398 0 .611.355.345.658l-4.796 5.482a.5.5 0 0 1-.708 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat; background-position: right 12px center; padding-right: 35px;
        }
        
        input { width: 100%; padding: 12px; border: 1.5px solid #cbd5e1; border-radius: 10px; font-size: 16px; box-sizing: border-box; transition: 0.2s; }
        input:focus, select:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); outline: none; }
        
        .btn-group { display: flex; gap: 10px; margin-top: 15px; }
        button { flex: 1; padding: 14px; border-radius: 12px; border: none; font-weight: bold; cursor: pointer; transition: 0.2s; font-size: 16px; }
        .calc-btn { background: var(--primary); color: white; }
        .calc-btn:hover { background: #4338ca; }
        .reset-btn { background: #e2e8f0; color: #475569; }
        .pdf-btn { background: #10b981; color: white; margin-top: 10px; width: 100%; display: none; }
        .result-card { display: none; background: #f0f4ff; border-left: 6px solid var(--primary); padding: 16px; border-radius: 12px; margin-top: 20px; animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); } }
        .res-item { display: flex; justify-content: space-between; padding: 9px 0; border-bottom: 1px solid #dce4ff; font-size: 15px; }
        .highlight { color: var(--primary); font-weight: 800; font-size: 17px; }
        .warning-box { background: #fff7ed; color: #9a3412; padding: 12px; border-radius: 10px; font-size: 13px; margin-bottom: 15px; border: 1px solid #fed7aa; }
        .diagram-container { margin-top: 15px; display: flex; flex-direction: column; align-items: center; background: #fff; border-radius: 15px; padding: 20px; border: 2px dashed #cbd5e1; }
        
        /* Improved History Section */
        .history-section { 
            margin-top: 30px; 
            background: #fff; 
            padding: 20px; 
            border-radius: 20px; 
            border: 1px solid #e2e8f0; 
        }
        .history-section h2 { 
            color: var(--primary); 
            font-size: 20px; 
            margin-top: 0; 
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .history-toggle-btn {
            background: #f1f5f9; 
            padding: 10px 20px; 
            border-radius: 10px; 
            font-size: 14px; 
            border: 1px solid #e2e8f0; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            width: 100%;
            cursor: pointer;
            font-weight: 600;
            color: var(--text);
        }
        .history-content {
            display: none;
            padding-top: 15px;
            border-top: 1px solid #f1f5f9;
        }
        .clear-history-btn {
            width: 100%; 
            background: #fee2e2; 
            color: #b91c1c; 
            border: none; 
            padding: 10px; 
            border-radius: 8px; 
            font-size: 13px; 
            cursor: pointer; 
            margin-bottom: 15px; 
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .history-list {
            max-height: 300px;
            overflow-y: auto;
            padding-right: 5px;
        }
        .history-item {
            background: #fff; 
            border: 1px solid #e2e8f0; 
            border-radius: 12px; 
            padding: 15px; 
            margin-bottom: 12px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .history-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            border-color: var(--accent);
        }
        .history-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px solid #f1f5f9;
        }
        .history-time {
            font-size: 11px;
            color: #64748b;
            background: #f1f5f9;
            padding: 3px 8px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .history-shape {
            font-size: 12px;
            color: var(--primary);
            font-weight: bold;
            background: #e0e7ff;
            padding: 3px 10px;
            border-radius: 20px;
        }
        .history-main {
            font-size: 15px;
            font-weight: bold;
            color: var(--text);
            margin: 8px 0;
            text-align: center;
        }
        .history-laggi {
            font-size: 11px;
            color: #64748b;
            background: #f1f5f9;
            padding: 2px 8px;
            border-radius: 12px;
            display: inline-block;
            margin-bottom: 8px;
        }
        .history-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-top: 10px;
        }
        .history-grid-item {
            background: #f8fafc;
            padding: 8px;
            border-radius: 8px;
            font-size: 11px;
            text-align: center;
        }
        .history-grid-item span:first-child {
            display: block;
            color: #64748b;
            font-size: 10px;
            margin-bottom: 2px;
        }
        .history-grid-item span:last-child {
            font-weight: bold;
            color: var(--text);
        }
        .no-history {
            text-align: center;
            color: #94a3b8;
            font-size: 14px;
            padding: 30px;
            background: #f8fafc;
            border-radius: 12px;
            border: 1px dashed #e2e8f0;
        }
        .history-count {
            background: var(--primary);
            color: white;
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 20px;
            margin-left: 8px;
        }
        
        /* About Section Styling */
        .about-section { 
            margin-top: 20px; 
            background: #fff; 
            padding: 20px; 
            border-radius: 20px; 
            border: 1px solid #e2e8f0; 
            line-height: 1.6; 
        }
        .about-section h2 { 
            color: var(--primary); 
            font-size: 20px; 
            margin-top: 0; 
            margin-bottom: 15px;
        }
        .about-section p { 
            font-size: 14px; 
            color: #475569; 
            margin-bottom: 15px;
        }
        .about-grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 12px; 
            margin: 15px 0; 
        }
        .about-item { 
            background: #f8fafc; 
            padding: 12px; 
            border-radius: 10px; 
            font-size: 13px; 
            border-left: 3px solid var(--accent); 
        }
        .about-item b { 
            color: var(--primary); 
            display: block; 
            margin-bottom: 4px; 
        }

        /* Contact Section Styling */
        .contact-section { 
            margin-top: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white;
            padding: 20px;
            border-radius: 20px;
            border: none;
        }
        .contact-section h2 { 
            color: white !important; 
            font-size: 20px; 
            margin-top: 0; 
            margin-bottom: 15px;
        }
        .contact-section p { 
            color: rgba(255,255,255,0.9); 
            font-size: 14px; 
            margin-bottom: 15px;
        }
        .contact-card {
            background: rgba(255,255,255,0.1); 
            padding: 20px; 
            border-radius: 12px; 
            border: 1px solid rgba(255,255,255,0.2);
        }
        .developer-info {
            display: flex; 
            align-items: center; 
            gap: 15px; 
            margin-bottom: 20px;
        }
        .dev-avatar {
            background: white; 
            color: #764ba2; 
            width: 50px; 
            height: 50px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: bold; 
            font-size: 24px;
            flex-shrink: 0;
        }
        .email-container {
            display: flex; 
            align-items: center; 
            gap: 12px; 
            padding: 15px; 
            background: rgba(255,255,255,0.15); 
            border-radius: 10px;
            margin-top: 15px;
        }
        .email-icon {
            width: 24px; 
            height: 24px; 
            fill: white;
            flex-shrink: 0;
        }
        .email-link {
            color: white; 
            text-decoration: none; 
            font-weight: bold; 
            font-size: 16px;
            word-break: break-all;
        }
        .email-link:hover {
            text-decoration: underline;
        }

        /* Diagram Styling */
        .diagram-title {
            font-size: 14px; 
            color: #64748b; 
            margin-bottom: 10px; 
            font-weight: bold;
            text-align: center;
        }
        .scale-info {
            font-size: 11px; 
            color: #94a3b8; 
            margin-top: 8px;
            text-align: center;
        }
        .dimension-text {
            font-size: 11px;
            font-weight: bold;
            fill: #1e293b;
        }
        .axis-line {
            stroke: #64748b;
            stroke-width: 1;
            stroke-dasharray: 3,3;
        }

        /* FOOTER STYLES (COPIED FROM INDEX.HTML) */
        .footer {
            background: #1e293b;
            color: #cbd5e1;
            padding: 50px 20px 30px;
            margin-top: 40px;
            position: relative;
            z-index: 1;
            animation: fadeIn 0.8s ease-out;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            color: white;
            font-size: 1.2rem;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 12px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .footer-links a {
            color: #94a3b8;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-block;
            padding: 2px 0;
            position: relative;
        }
        
        .footer-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 1px;
            background: white;
            transition: width 0.3s ease;
        }
        
        .footer-links a:hover {
            color: white;
            transform: translateX(5px);
        }
        
        .footer-links a:hover::after {
            width: 100%;
        }
        
        .footer-bottom {
            max-width: 1200px;
            margin: 0 auto;
            padding-top: 30px;
            border-top: 1px solid #374151;
            text-align: center;
            font-size: 0.9rem;
        }
        
        .developer {
            color: white;
            font-weight: 600;
            margin-top: 10px;
            display: inline-block;
            transition: all 0.3s ease;
        }
        
        .developer:hover {
            transform: scale(1.05);
            color: var(--accent);
        }
        
        @media print { 
            .navbar, .footer, .ad-slot { display: none !important; } 
            .box { box-shadow: none; margin: 0; border-radius: 0; }
            #resultCard { display: block !important; position: static; width: 100%; border: none; } 
        }
        
        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>
<body>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo-container">
                <div class="logo">LAC</div>
                <div>
                    <div class="logo-text">LAC Tools</div>
                    <div class="logo-subtext">Land Area Calculator</div>
                </div>
            </a>
            
            <div class="nav-links" id="navLinks">
                <a href="index.html" class="nav-link" style="--i: 1">üè† Home</a>
                <a href="#" class="nav-link active" style="--i: 2">üìê Land Calculator</a>
                <a href="index.html#tools" class="nav-link" style="--i: 3">üéÇ Age Calculator</a>
                <a href="index.html#tools" class="nav-link" style="--i: 4">üìÑ PDF Tools</a>
                <a href="index.html#tools" class="nav-link" style="--i: 5">üîÑ Converter</a>
                <a href="index.html#tools" class="nav-link" style="--i: 6">‚öñÔ∏è BMI</a>
                <a href="index.html#about" class="nav-link" style="--i: 7">‚ÑπÔ∏è About Us</a>
                <a href="index.html#contact" class="nav-link" style="--i: 8">üìû Contact</a>
                <a href="index.html#tools" class="explore-btn">
                    <span>üîç</span> Explore All Tools
                </a>
            </div>
            
            <!-- IMPROVED HAMBURGER MENU BUTTON WITH 3 LINES -->
            <button class="mobile-menu-btn" id="mobileMenuBtn" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay" onclick="toggleMobileMenu()"></div>

    <!-- MAIN CALCULATOR CONTENT -->
    <main class="box">
        <header class="top">
            <h1>LAND AREA CALCULATOR</h1>
            <p style="font-size: 12px; color: #64748b; margin-top: 5px;">By LAC Tools</p>
        </header>

        <div class="ad-slot">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                 data-ad-slot="XXXXXXXXXX"
                 data-ad-format="horizontal"
                 data-full-width-responsive="true"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>

        <!-- NEW: PAIMANA (SCALE) DROPDOWN ADDED HERE -->
        <section class="card" style="background: #f0f9ff; border-color: #bae6fd;">
            <label for="paimana" style="color: #0369a1;">‡§™‡•à‡§Æ‡§æ‡§®‡§æ (Scale)</label>
            <select id="paimana">
                <option value="16" selected>16" = 1 ‡§Æ‡•Ä‡§≤ (Default)</option>
                <option value="32">32" = 1 ‡§Æ‡•Ä‡§≤</option>
                <option value="64">64" = 1 ‡§Æ‡•Ä‡§≤</option>
            </select>
            <div style="font-size: 11px; color: #64748b; margin-top: 5px; display: flex; align-items: center; gap: 5px;">
                <span>‚ÑπÔ∏è</span>
                <span id="paimanaText">16" = ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø, 32" = √∑8, 64" = √∑16</span>
            </div>
        </section>

        <section class="card" style="background: #eff6ff; border-color: #bfdbfe; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div><label style="color: #1e40af;">‡§≤‡§ó‡•ç‡§ó‡•Ä (‡§π‡§æ‡§• ‡§Æ‡•á‡§Ç)</label><select id="laggi"></select></div>
            <div><label style="color: #1e40af;">‡§á‡§®‡§™‡•Å‡§ü ‡§Ø‡•Ç‡§®‡§ø‡§ü</label>
                <select id="inputUnit" onchange="drawInputs()">
                    <option value="feet" selected>‡§´‡•Ä‡§ü (Feet)</option>
                    <option value="kadi">‡§ï‡§°‡§º‡•Ä (Links)</option>
                    <option value="meter">‡§Æ‡•Ä‡§ü‡§∞ (Meter)</option>
                    <option value="guz">‡§ó‡§ú‡§º (Yard)</option>
                </select>
            </div>
        </section>

        <section class="card">
            <label for="shape">‡§ñ‡•á‡§§ ‡§ï‡§æ ‡§Ü‡§ï‡§æ‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç</label>
            <select id="shape" onchange="drawInputs()">
                <option value="">-- ‡§ö‡•Å‡§®‡•á‡§Ç --</option>
                <option value="rectangle">‡§Ü‡§Ø‡§§ (Rectangle)</option>
                <option value="square">‡§µ‡§∞‡•ç‡§ó (Square)</option>
                <option value="triangle">‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú (Triangle)</option>
                <option value="right_triangle">‡§∏‡§Æ‡§ï‡•ã‡§£ ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú</option>
                <option value="parallelogram">‡§ö‡§æ‡§∞ ‡§Æ‡•á‡§°‡§º (4 Sides)</option>
                <option value="oval">‡§Ö‡§Ç‡§°‡§æ‡§ï‡§æ‡§∞ (Oval)</option>
                <option value="circle">‡§µ‡•É‡§§‡•ç‡§§ (Circle)</option>
            </select>
            <div id="inputs" class="input-grid"></div>
            <div class="btn-group">
                <button class="calc-btn" onclick="calculate()">‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ ‡§®‡§ø‡§ï‡§æ‡§≤‡•á‡§Ç</button>
                <button class="reset-btn" onclick="resetAll()">‡§∞‡•Ä‡§∏‡•á‡§ü</button>
            </div>
        </section>

        <div class="result-card" id="resultCard">
            <h3 style="margin:0 0 10px 0; font-size:18px; color: var(--primary);">üìê ‡§ó‡§£‡§®‡§æ ‡§ï‡§æ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ</h3>
            <div id="warningArea"></div>
            <div id="resultContent"></div>
            <div class="diagram-container">
                <div class="diagram-title">‡§ñ‡•á‡§§ ‡§ï‡§æ ‡§®‡§ï‡•ç‡§∂‡§æ (Scaled Diagram)</div>
                <div id="diagram"></div>
                <div id="scaleInfo" class="scale-info"></div>
            </div>
            <button class="pdf-btn" id="pdfBtn" onclick="window.print()">üìÑ PDF ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç</button>
        </div>

        <!-- üÜô IMPROVED HISTORY SECTION -->
        <section class="history-section">
            <h2>üïí ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§∂‡§® ‡§π‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä <span id="historyCount" class="history-count">0</span></h2>
            
            <button class="history-toggle-btn" onclick="toggleHistory()">
                <span>‡§™‡§ø‡§õ‡§≤‡•Ä ‡§ó‡§£‡§®‡§æ‡§è‡§Ç ‡§¶‡•á‡§ñ‡•á‡§Ç</span>
                <span id="historyIcon">‚ñº</span>
            </button>
            
            <div class="history-content" id="historyContent">
                <button class="clear-history-btn" onclick="clearHistory()">
                    <span>üóëÔ∏è</span>
                    ‡§π‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä ‡§ï‡•ç‡§≤‡§ø‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç
                </button>
                
                <div class="history-list" id="historyList">
                    <!-- History items will be loaded here -->
                </div>
            </div>
        </section>

        <!-- ABOUT TOOL SECTION -->
        <section class="about-section">
            <h2>‚ÑπÔ∏è ‡§á‡§∏ ‡§ü‡•Ç‡§≤ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç</h2>
            <p>‡§Ø‡§π **Land Area Calculator** LAC Tools ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§µ‡§ø‡§ï‡§∏‡§ø‡§§ ‡§è‡§ï ‡§â‡§®‡•ç‡§®‡§§ ‡§™‡•à‡§Æ‡§æ‡§á‡§∂ ‡§ü‡•Ç‡§≤ ‡§π‡•à‡•§ ‡§á‡§∏‡•á ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§î‡§∞ ‡§Ö‡§Æ‡•Ä‡§® (Surveyors) ‡§ï‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§∞‡§ñ‡§ï‡§∞ ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à ‡§§‡§æ‡§ï‡§ø ‡§µ‡•á ‡§ú‡§ü‡§ø‡§≤ ‡§Ü‡§ï‡•É‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§µ‡§æ‡§≤‡•á ‡§ñ‡•á‡§§‡•ã‡§Ç ‡§ï‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ ‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ ‡§∏‡•á ‡§®‡§ø‡§ï‡§æ‡§≤ ‡§∏‡§ï‡•á‡§Ç‡•§</p>
            
            <div class="about-grid">
                <div class="about-item"><b>‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•Ä‡§Ø ‡§™‡•à‡§Æ‡§æ‡§á‡§∂:</b> ‡§¨‡§ø‡§π‡§æ‡§∞ ‡§î‡§∞ ‡§Ö‡§®‡•ç‡§Ø ‡§∞‡§æ‡§ú‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§™‡§æ‡§∞‡§Ç‡§™‡§∞‡§ø‡§ï ‡§á‡§ï‡§æ‡§á‡§Ø‡•ã‡§Ç (‡§¨‡•Ä‡§ò‡§æ-‡§ï‡§ü‡•ç‡§†‡§æ) ‡§ï‡§æ ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§Æ‡§∞‡•ç‡§•‡§®‡•§</div>
                <div class="about-item"><b>‡§∏‡§ü‡•Ä‡§ï ‡§ó‡§£‡§®‡§æ:</b> ‡§π‡•á‡§∞‡•ã‡§® ‡§´‡•â‡§∞‡•ç‡§Æ‡•Ç‡§≤‡§æ (Heron's Formula) ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§ü‡•á‡§¢‡§º‡•á-‡§Æ‡•á‡§¢‡§º‡•á ‡§ñ‡•á‡§§‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡§π‡•Ä ‡§Æ‡§æ‡§™‡•§</div>
                <div class="about-item"><b>‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§°‡§æ‡§Ø‡§ó‡•ç‡§∞‡§æ‡§Æ:</b> ‡§Æ‡§æ‡§™ ‡§ï‡•á ‡§∏‡§æ‡§•-‡§∏‡§æ‡§• ‡§ñ‡•á‡§§ ‡§ï‡§æ ‡§è‡§ï ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§®‡§ï‡•ç‡§∂‡§æ ‡§≠‡•Ä ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§</div>
                <div class="about-item"><b>‡§Æ‡§≤‡•ç‡§ü‡•Ä-‡§Ø‡•Ç‡§®‡§ø‡§ü:</b> ‡§´‡•Ä‡§ü, ‡§ï‡§°‡§º‡•Ä, ‡§Æ‡•Ä‡§ü‡§∞ ‡§î‡§∞ ‡§ó‡§ú ‡§Æ‡•á‡§Ç ‡§á‡§®‡§™‡•Å‡§ü ‡§¶‡•á‡§®‡•á ‡§ï‡•Ä ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡•§</div>
            </div>
            
            <p style="font-size: 12px; margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee;">
                ‡§Ø‡§π ‡§ü‡•Ç‡§≤ `localStorage` ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ú‡§ø‡§∏‡§∏‡•á ‡§Ü‡§™‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§π‡§§‡•Ä ‡§π‡•à‡•§ ‡§Ü‡§™ ‡§á‡§∏‡•á ‡§¨‡§ø‡§®‡§æ ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§ï‡•á ‡§≠‡•Ä ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§
            </p>
        </section>

        <!-- CONTACT US SECTION -->
        <section class="contact-section">
            <h2>üì¨ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç / Contact Us</h2>
            <p>
                ‡§Ö‡§ó‡§∞ ‡§Ü‡§™‡§ï‡•ã ‡§á‡§∏ ‡§ü‡•Ç‡§≤ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•ã‡§à ‡§∏‡§µ‡§æ‡§≤ ‡§π‡•ã, ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§π‡•ã, ‡§Ø‡§æ ‡§ï‡•ã‡§à ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§Ü ‡§∞‡§π‡•Ä ‡§π‡•ã, ‡§§‡•ã ‡§π‡§Æ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç!
            </p>
            
            <div class="contact-card">
                <div class="developer-info">
                    <div class="dev-avatar">L</div>
                    <div>
                        <h3 style="margin: 0; color: white; font-size: 18px;">LAC Tools</h3>
                        <p style="margin: 5px 0 0 0; color: rgba(255,255,255,0.8); font-size: 13px;">‡§ü‡•Ç‡§≤ ‡§°‡•á‡§µ‡§≤‡§™‡§∞ / Tool Developer</p>
                    </div>
                </div>
                
                <div class="email-container">
                    <svg class="email-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                    </svg>
                    <div>
                        <div style="font-size: 12px; color: rgba(255,255,255,0.7);">‡§à‡§Æ‡•á‡§≤ / Email:</div>
                        <a href="mailto:manishxyz659@gmail.com" class="email-link">
                            manishxyz659@gmail.com
                        </a>
                    </div>
                </div>
                
                <p style="font-size: 12px; margin-top: 15px; color: rgba(255,255,255,0.7); text-align: center;">
                    ‡§Ü‡§™‡§ï‡§æ ‡§´‡•Ä‡§°‡§¨‡•à‡§ï ‡§π‡§Æ‡§æ‡§∞‡•á ‡§≤‡§ø‡§è ‡§¨‡§π‡•Å‡§§ ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à! ‡§ú‡§µ‡§æ‡§¨ ‡§Æ‡•á‡§Ç 24-48 ‡§ò‡§Ç‡§ü‡•á ‡§≤‡§ó ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§<br>
                    Your feedback is very valuable to us! Response may take 24-48 hours.
                </p>
            </div>
        </section>
    </main>

    <!-- Footer (COPIED FROM INDEX.HTML) -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-column">
                <h3>Available Tools</h3>
                <ul class="footer-links">
                    <li><a href="land-calculator.html">Land Area Calculator</a></li>
                    <li><a href="index.html#tools">Age Calculator (Coming Soon)</a></li>
                    <li><a href="index.html#tools">PDF Tools (Coming Soon)</a></li>
                    <li><a href="index.html#tools">Unit Converter (Coming Soon)</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#about">About Us</a></li>
                    <li><a href="index.html#contact">Contact Us</a></li>
                    <li><a href="index.html#features">Features</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Information</h3>
                <ul class="footer-links">
                    <li><a href="#privacy">Privacy Policy</a></li>
                    <li><a href="#terms">Terms of Use</a></li>
                    <li><a href="#faq">FAQ</a></li>
                    <li><a href="#support">Support</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>¬© 2023 LAC Tools. All rights reserved.</p>
            <p class="developer">Developed with ‚ù§Ô∏è by Manish</p>
        </div>
    </footer>

<script>
    // IMPROVED MOBILE MENU FUNCTIONS WITH SMOOTH ANIMATION
    let isMobileMenuOpen = false;
    
    function toggleMobileMenu() {
        const navLinks = document.getElementById('navLinks');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const overlay = document.getElementById('mobileMenuOverlay');
        
        isMobileMenuOpen = !isMobileMenuOpen;
        
        if (isMobileMenuOpen) {
            // Open menu
            navLinks.classList.add('active');
            overlay.classList.add('active');
            mobileMenuBtn.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Animate menu items with smoother timing
            const navItems = navLinks.querySelectorAll('.nav-link, .explore-btn');
            navItems.forEach((item, index) => {
                item.style.transitionDelay = `${index * 0.08}s`;
            });
        } else {
            // Close menu
            navLinks.classList.remove('active');
            overlay.classList.remove('active');
            mobileMenuBtn.classList.remove('active');
            document.body.style.overflow = '';
            
            // Reset transition delays
            const navItems = navLinks.querySelectorAll('.nav-link, .explore-btn');
            navItems.forEach(item => {
                item.style.transitionDelay = '0s';
            });
        }
    }
    
    // Close mobile menu when clicking on a link
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', () => {
            if (isMobileMenuOpen) {
                toggleMobileMenu();
            }
        });
    });
    
    // Close mobile menu when clicking overlay
    document.getElementById('mobileMenuOverlay').addEventListener('click', toggleMobileMenu);
    
    // Close mobile menu on escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && isMobileMenuOpen) {
            toggleMobileMenu();
        }
    });
    
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            // Don't prevent default for external links
            if (this.getAttribute('href').includes('.html')) return;
            
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                // Close mobile menu if open
                if (isMobileMenuOpen) {
                    toggleMobileMenu();
                }
                
                // Smooth scroll to target
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    });

    /* LAND CALCULATOR JAVASCRIPT FUNCTIONS */
    function populateLaggi() {
        const s = document.getElementById('laggi');
        for(let i=4; i<=13; i+=0.25) {
            let o = document.createElement('option'); 
            o.value = i; 
            o.innerText = i + " ‡§π‡§æ‡§•" + (i===6.5 ? " (‡§Æ‡§æ‡§®‡§ï)" : "");
            if(i===6.5) o.selected = true; 
            s.appendChild(o);
        }
    }

    window.onload = () => { 
        populateLaggi(); 
        drawInputs(); 
        renderHistory(); 
        updateHistoryCount();
    };

    function toggleHistory() {
        const content = document.getElementById('historyContent');
        const icon = document.getElementById('historyIcon');
        const isVisible = content.style.display === "block";
        
        content.style.display = isVisible ? "none" : "block";
        icon.innerText = isVisible ? "‚ñº" : "‚ñ≤";
        
        if (!isVisible) {
            setTimeout(() => {
                content.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }
    }

    function clearHistory() { 
        if(confirm("‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§µ‡§æ‡§ï‡§à ‡§∏‡§≠‡•Ä ‡§π‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä ‡§Æ‡§ø‡§ü‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?")) { 
            localStorage.removeItem('landCalcHist'); 
            renderHistory(); 
            updateHistoryCount();
        } 
    }

    function drawInputs() {
        const c = document.getElementById('inputs'); 
        const s = document.getElementById('shape').value;
        const u = document.getElementById('inputUnit').value; 
        const uT = `(${u==='feet'?'‡§´‡•Ä‡§ü':u==='kadi'?'‡§ï‡§°‡§º‡•Ä':u==='meter'?'‡§Æ‡•Ä‡§ü‡§∞':'‡§ó‡§ú‡§º'})`;
        
        c.innerHTML = ""; 
        document.getElementById('resultCard').style.display = "none";
        
        const f = {
            rectangle: [
                {l:'‡§≤‡§Ç‡§¨‡§æ‡§à (N/S) '+uT, id:'L'}, 
                {l:'‡§ö‡•å‡§°‡§º‡§æ‡§à (E/W) '+uT, id:'W'}
            ],
            square: [
                {l:'‡§≠‡•Å‡§ú‡§æ '+uT, id:'S'}
            ],
            triangle: [
                {l:'‡§≠‡•Å‡§ú‡§æ A '+uT, id:'A'}, 
                {l:'‡§≠‡•Å‡§ú‡§æ B '+uT, id:'B'}, 
                {l:'‡§≠‡•Å‡§ú‡§æ C '+uT, id:'C'}
            ],
            right_triangle: [
                {l:'‡§Ü‡§ß‡§æ‡§∞ '+uT, id:'B_base'}, 
                {l:'‡§≤‡§Æ‡•ç‡§¨ '+uT, id:'H_height'}
            ],
            parallelogram: [
                {l:'‡§â‡§§‡•ç‡§§‡§∞ (N) '+uT, id:'m1'}, 
                {l:'‡§™‡•Ç‡§∞‡•ç‡§µ (E) '+uT, id:'m2'}, 
                {l:'‡§¶‡§ï‡•ç‡§∑‡§ø‡§£ (S) '+uT, id:'m3'}, 
                {l:'‡§™‡§∂‡•ç‡§ö‡§ø‡§Æ (W) '+uT, id:'m4'}, 
                {l:'‡§µ‡§ø‡§ï‡§∞‡•ç‡§£ (Optional) '+uT, id:'diag'}
            ],
            oval: [
                {l:'‡§≤‡§Ç‡§¨‡§æ‡§à '+uT, id:'ld'}, 
                {l:'‡§ö‡•å‡§°‡§º‡§æ‡§à '+uT, id:'sd'}
            ],
            circle: [
                {l:'‡§µ‡•ç‡§Ø‡§æ‡§∏ '+uT, id:'d'}
            ]
        };
        
        if(f[s]) {
            f[s].forEach(x => {
                let d = document.createElement('div'); 
                if(s==='square' || s==='circle' || x.id==='diag') d.className='full-width';
                d.innerHTML = `<label>${x.l}</label><input type="number" id="${x.id}" step="any" min="0" placeholder="0.00">`; 
                c.appendChild(d);
            });
        }
    }

    function heron(a,b,c) {
        if(!a || !b || !c || a+b<=c || a+c<=b || b+c<=a) return 0;
        let s = (a+b+c)/2;
        return Math.sqrt(s*(s-a)*(s-b)*(s-c));
    }

    function createParallelogramDiagram(n, e, s, w, d, scale, unitText) {
        const svgWidth = 300;
        const svgHeight = 200;
        const padding = 40;
        
        const baseX = padding + 50;
        const baseY = padding + 50;
        
        const scaledN = parseFloat(n) * scale;
        const scaledE = parseFloat(e) * scale;
        const scaledS = parseFloat(s) * scale;
        const scaledW = parseFloat(w) * scale;
        
        const x1 = baseX;
        const y1 = baseY;
        const x2 = x1 + scaledE;
        const y2 = y1;
        const x3 = x2 - 20;
        const y3 = y2 + scaledS;
        const x4 = x1 - 20;
        const y4 = y1 + scaledN;
        
        const boundsX = Math.min(x1, x2, x3, x4);
        const boundsY = Math.min(y1, y2, y3, y4);
        const offsetX = boundsX < padding ? padding - boundsX : 0;
        const offsetY = boundsY < padding ? padding - boundsY : 0;
        
        const adjustedX1 = x1 + offsetX;
        const adjustedY1 = y1 + offsetY;
        const adjustedX2 = x2 + offsetX;
        const adjustedY2 = y2 + offsetY;
        const adjustedX3 = x3 + offsetX;
        const adjustedY3 = y3 + offsetY;
        const adjustedX4 = x4 + offsetX;
        const adjustedY4 = y4 + offsetY;
        
        let svg = `<svg width="${svgWidth}" height="${svgHeight}" viewBox="0 0 ${svgWidth} ${svgHeight}">
            <rect width="${svgWidth}" height="${svgHeight}" fill="#fff" />`;
        
        svg += `<polygon points="${adjustedX1},${adjustedY1} ${adjustedX2},${adjustedY2} ${adjustedX3},${adjustedY3} ${adjustedX4},${adjustedY4}" 
                  fill="rgba(79, 70, 229, 0.1)" stroke="#4f46e5" stroke-width="2" />`;
        
        if (d > 0) {
            svg += `<line x1="${adjustedX1}" y1="${adjustedY1}" x2="${adjustedX3}" y2="${adjustedY3}" 
                     stroke="red" stroke-dasharray="4" stroke-width="1.5" />
                    <text x="${(adjustedX1+adjustedX3)/2}" y="${(adjustedY1+adjustedY3)/2 - 5}" 
                     fill="red" font-size="10" text-anchor="middle">V: ${d}</text>`;
        }
        
        svg += `<text x="${(adjustedX1+adjustedX2)/2}" y="${adjustedY1 - 10}" 
                 text-anchor="middle" class="dimension-text">N: ${n}</text>`;
        
        svg += `<text x="${adjustedX2 + 10}" y="${(adjustedY2+adjustedY3)/2}" 
                 text-anchor="start" class="dimension-text">E: ${e}</text>`;
        
        svg += `<text x="${(adjustedX3+adjustedX4)/2}" y="${adjustedY3 + 20}" 
                 text-anchor="middle" class="dimension-text">S: ${s}</text>`;
        
        svg += `<text x="${adjustedX4 - 10}" y="${(adjustedY4+adjustedY1)/2}" 
                 text-anchor="end" class="dimension-text">W: ${w}</text>`;
        
        const scaleLength = 50;
        const scaleX = svgWidth - padding - scaleLength;
        const scaleY = svgHeight - padding + 10;
        
        svg += `<line x1="${scaleX}" y1="${scaleY}" x2="${scaleX + scaleLength}" y2="${scaleY}" stroke="#1e293b" stroke-width="2" />
                <line x1="${scaleX}" y1="${scaleY - 5}" x2="${scaleX}" y2="${scaleY + 5}" stroke="#1e293b" stroke-width="2" />
                <line x1="${scaleX + scaleLength}" y1="${scaleY - 5}" x2="${scaleX + scaleLength}" y2="${scaleY + 5}" stroke="#1e293b" stroke-width="2" />
                <text x="${scaleX + scaleLength/2}" y="${scaleY + 15}" text-anchor="middle" font-size="10" fill="#64748b">${Math.round(scaleLength/scale)} ${unitText}</text>`;
        
        svg += `</svg>`;
        
        return svg;
    }

    function createScaledDiagram(shape, dimensions, unit) {
        const svgWidth = 300;
        const svgHeight = 200;
        const padding = 30;
        const drawWidth = svgWidth - 2 * padding;
        const drawHeight = svgHeight - 2 * padding;
        
        let maxDim = Math.max(...Object.values(dimensions).filter(v => v > 0));
        if (maxDim === 0) maxDim = 1;
        
        const scale = Math.min(drawWidth / maxDim, drawHeight / maxDim) * 0.8;
        const unitText = unit === 'feet' ? '‡§´‡•Ä‡§ü' : unit === 'kadi' ? '‡§ï‡§°‡§º‡•Ä' : unit === 'meter' ? '‡§Æ‡•Ä‡§ü‡§∞' : '‡§ó‡§ú‡§º';
        
        if (shape === "parallelogram") {
            return createParallelogramDiagram(
                dimensions.m1, dimensions.m2, dimensions.m3, dimensions.m4, dimensions.diag, 
                scale, unitText
            );
        }
        
        let svg = `<svg width="${svgWidth}" height="${svgHeight}" viewBox="0 0 ${svgWidth} ${svgHeight}">
            <rect width="${svgWidth}" height="${svgHeight}" fill="#fff" />`;
        
        if (shape === "rectangle") {
            const w = dimensions.L * scale;
            const h = dimensions.W * scale;
            const x = (svgWidth - w) / 2;
            const y = (svgHeight - h) / 2;
            
            svg += `<rect x="${x}" y="${y}" width="${w}" height="${h}" fill="rgba(79, 70, 229, 0.1)" stroke="#4f46e5" stroke-width="2" />
                    <text x="${x + w/2}" y="${y - 10}" text-anchor="middle" class="dimension-text">${dimensions.L} ${unitText}</text>
                    <text x="${x + w/2}" y="${y + h + 20}" text-anchor="middle" class="dimension-text">${dimensions.L} ${unitText}</text>
                    <text x="${x - 15}" y="${y + h/2}" text-anchor="end" class="dimension-text" transform="rotate(-90,${x - 15},${y + h/2})">${dimensions.W} ${unitText}</text>
                    <text x="${x + w + 15}" y="${y + h/2}" text-anchor="start" class="dimension-text" transform="rotate(90,${x + w + 15},${y + h/2})">${dimensions.W} ${unitText}</text>`;
                    
        } else if (shape === "square") {
            const side = dimensions.S * scale;
            const x = (svgWidth - side) / 2;
            const y = (svgHeight - side) / 2;
            
            svg += `<rect x="${x}" y="${y}" width="${side}" height="${side}" fill="rgba(79, 70, 229, 0.1)" stroke="#4f46e5" stroke-width="2" />
                    <text x="${x + side/2}" y="${y - 10}" text-anchor="middle" class="dimension-text">${dimensions.S} ${unitText}</text>
                    <text x="${x + side/2}" y="${y + side + 20}" text-anchor="middle" class="dimension-text">${dimensions.S} ${unitText}</text>`;
                    
        } else if (shape === "triangle") {
            const a = dimensions.A * scale;
            const b = dimensions.B * scale;
            const c = dimensions.C * scale;
            
            const x1 = (svgWidth - a) / 2;
            const y1 = svgHeight - padding;
            const x2 = x1 + a;
            const y2 = y1;
            const x3 = x1 + (a*a + c*c - b*b) / (2*a);
            const y3 = y1 - Math.sqrt(c*c - Math.pow((a*a + c*c - b*b) / (2*a), 2));
            
            svg += `<polygon points="${x1},${y1} ${x2},${y2} ${x3},${y3}" fill="rgba(79, 70, 229, 0.1)" stroke="#4f46e5" stroke-width="2" />
                    <text x="${(x1+x2)/2}" y="${y1 + 15}" text-anchor="middle" class="dimension-text">${dimensions.C} ${unitText}</text>
                    <text x="${x3 - 10}" y="${(y1+y3)/2}" text-anchor="end" class="dimension-text">${dimensions.B} ${unitText}</text>
                    <text x="${x3 + 10}" y="${(y2+y3)/2}" text-anchor="start" class="dimension-text">${dimensions.A} ${unitText}</text>`;
                    
        } else if (shape === "right_triangle") {
            const base = dimensions.B_base * scale;
            const height = dimensions.H_height * scale;
            const x = (svgWidth - base) / 2;
            const y = svgHeight - padding - height;
            
            svg += `<polygon points="${x},${y+height} ${x+base},${y+height} ${x},${y}" fill="rgba(79, 70, 229, 0.1)" stroke="#4f46e5" stroke-width="2" />
                    <text x="${x + base/2}" y="${y + height + 15}" text-anchor="middle" class="dimension-text">${dimensions.B_base} ${unitText}</text>
                    <text x="${x - 10}" y="${y + height/2}" text-anchor="end" class="dimension-text" transform="rotate(-90,${x - 10},${y + height/2})">${dimensions.H_height} ${unitText}</text>`;
                    
        } else if (shape === "oval") {
            const length = dimensions.ld * scale;
            const width = dimensions.sd * scale;
            const cx = svgWidth / 2;
            const cy = svgHeight / 2;
            const rx = length / 2;
            const ry = width / 2;
            
            svg += `<ellipse cx="${cx}" cy="${cy}" rx="${rx}" ry="${ry}" fill="rgba(79, 70, 229, 0.1)" stroke="#4f46e5" stroke-width="2" />
                    <line x1="${cx - rx}" y1="${cy}" x2="${cx + rx}" y2="${cy}" stroke="#64748b" stroke-dasharray="3,3" />
                    <line x1="${cx}" y1="${cy - ry}" x2="${cx}" y2="${cy + ry}" stroke="#64748b" stroke-dasharray="3,3" />
                    <text x="${cx}" y="${cy - ry - 10}" text-anchor="middle" class="dimension-text">${dimensions.sd} ${unitText}</text>
                    <text x="${cx + rx + 15}" y="${cy}" text-anchor="start" class="dimension-text">${dimensions.ld} ${unitText}</text>`;
                    
        } else if (shape === "circle") {
            const diameter = dimensions.d * scale;
            const radius = diameter / 2;
            const cx = svgWidth / 2;
            const cy = svgHeight / 2;
            
            svg += `<circle cx="${cx}" cy="${cy}" r="${radius}" fill="rgba(79, 70, 229, 0.1)" stroke="#4f46e5" stroke-width="2" />
                    <line x1="${cx - radius}" y1="${cy}" x2="${cx + radius}" y2="${cy}" stroke="#64748b" stroke-dasharray="3,3" />
                    <text x="${cx}" y="${cy - radius - 10}" text-anchor="middle" class="dimension-text">${dimensions.d} ${unitText}</text>`;
        }
        
        const scaleLength = 50;
        const scaleX = svgWidth - padding - scaleLength;
        const scaleY = svgHeight - padding + 10;
        
        svg += `<line x1="${scaleX}" y1="${scaleY}" x2="${scaleX + scaleLength}" y2="${scaleY}" stroke="#1e293b" stroke-width="2" />
                <line x1="${scaleX}" y1="${scaleY - 5}" x2="${scaleX}" y2="${scaleY + 5}" stroke="#1e293b" stroke-width="2" />
                <line x1="${scaleX + scaleLength}" y1="${scaleY - 5}" x2="${scaleX + scaleLength}" y2="${scaleY + 5}" stroke="#1e293b" stroke-width="2" />
                <text x="${scaleX + scaleLength/2}" y="${scaleY + 15}" text-anchor="middle" font-size="10" fill="#64748b">${Math.round(scaleLength/scale)} ${unitText}</text>`;
        
        svg += `</svg>`;
        
        const actualLength = Math.round(scaleLength/scale);
        document.getElementById('scaleInfo').innerHTML = `Scale: 1px = ${(1/scale).toFixed(2)} ${unitText} | ${scaleLength}px = ${actualLength} ${unitText}`;
        
        return svg;
    }

    function calculate() {
        let areaKadi = 0, svg = "", s = document.getElementById('shape').value;
        const laggi = parseFloat(document.getElementById('laggi').value);
        const unit = document.getElementById('inputUnit').value;
        const paimana = document.getElementById('paimana').value;
        const oneDhur = Math.pow((laggi * 18) / 7.92, 2);

        const getRaw = (id) => parseFloat(document.getElementById(id)?.value) || 0;
        const getVal = (v) => {
            if(unit === 'feet') return v / 0.66;
            if(unit === 'meter') return (v * 3.28084) / 0.66;
            if(unit === 'guz') return (v * 3) / 0.66;
            return v;
        };

        try {
            if(!s) throw "NoShape"; 
            document.getElementById('warningArea').innerHTML = "";
            
            let dimensions = {};

            if(s === "rectangle") {
                let L = getRaw('L'), W = getRaw('W'); if(!L || !W) throw "Err";
                areaKadi = getVal(L) * getVal(W);
                dimensions = {L, W};
                
            } else if(s === "parallelogram") {
                let n=getRaw('m1'), e=getRaw('m2'), s_side=getRaw('m3'), w=getRaw('m4'), d=getRaw('diag');
                if(!n || !e || !s_side || !w) throw "Err";
                dimensions = {m1: n, m2: e, m3: s_side, m4: w, diag: d};
                
                if(d > 0) {
                    let t1 = heron(getVal(n), getVal(e), getVal(d));
                    let t2 = heron(getVal(s_side), getVal(w), getVal(d));
                    if(t1 === 0 || t2 === 0) throw "InvalidTri";
                    areaKadi = t1 + t2;
                } else {
                    areaKadi = ((getVal(n)+getVal(s_side))/2) * ((getVal(e)+getVal(w))/2);
                    document.getElementById('warningArea').innerHTML = `<div class="warning-box">‚ö†Ô∏è ‡§î‡§∏‡§§ ‡§µ‡§ø‡§ß‡§ø ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§π‡•Å‡§Ü ‡§π‡•à‡•§ ‡§∏‡§ü‡•Ä‡§ï ‡§Æ‡§æ‡§™ ‡§π‡•á‡§§‡•Å ‡§µ‡§ø‡§ï‡§∞‡•ç‡§£ ‡§≠‡§∞‡•á‡§Ç‡•§</div>`;
                }
                
            } else if(s === "square") {
                let S = getRaw('S'); if(!S) throw "Err";
                areaKadi = Math.pow(getVal(S), 2);
                dimensions = {S};
                
            } else if(s === "triangle") {
                let a=getRaw('A'), b=getRaw('B'), c=getRaw('C');
                areaKadi = heron(getVal(a), getVal(b), getVal(c)); if(areaKadi === 0) throw "InvalidTri";
                dimensions = {A: a, B: b, C: c};
                
            } else if(s === "right_triangle") {
                let b=getRaw('B_base'), h=getRaw('H_height'); if(!b || !h) throw "Err";
                areaKadi = 0.5 * getVal(b) * getVal(h);
                dimensions = {B_base: b, H_height: h};
                
            } else if(s === "oval") {
                let l=getRaw('ld'), w=getRaw('sd'); if(!l || !w) throw "Err";
                areaKadi = (getVal(l) * getVal(w) * Math.PI) / 4;
                dimensions = {ld: l, sd: w};
                
            } else if(s === "circle") {
                let d=getRaw('d'); if(!d) throw "Err";
                areaKadi = Math.PI * Math.pow(getVal(d)/2, 2);
                dimensions = {d};
            }

            if(!areaKadi || areaKadi <= 0) throw "Err";
            
            // APPLY PAIMANA SCALE FACTOR (SILENTLY)
            if (paimana === "32") {
                areaKadi = areaKadi / 8;
            } else if (paimana === "64") {
                areaKadi = areaKadi / 16;
            }
            
            let dhur = areaKadi / oneDhur, ft = areaKadi * 0.4356, dec = areaKadi / 1000, guz = ft/9, mtr = ft/10.7639, resKDH = breakdown(dhur);
            document.getElementById('resultCard').style.display = "block";
            document.getElementById('pdfBtn').style.display = "block";
            
            document.getElementById('resultContent').innerHTML = `
                <div class="res-item" style="background:#fff; border:1px solid #dce4ff; padding:8px; border-radius:8px; margin-bottom:10px;">
                    <span style="font-size:13px; color:#64748b;">‡§≤‡§ó‡•ç‡§ó‡•Ä: ${laggi} ‡§π‡§æ‡§• | 1 ‡§ß‡•Å‡§∞:</span> 
                    <b style="color:var(--primary)">${oneDhur.toFixed(3)} ‡§µ‡§∞‡•ç‡§ó ‡§ï‡§°‡§º‡•Ä</b>
                </div>
                <div class="res-item"><span>‡§ï‡•Å‡§≤ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤</span> <b>${areaKadi.toFixed(2)} ‡§µ‡§∞‡•ç‡§ó ‡§ï‡§°‡§º‡•Ä</b></div>
                <div class="res-item"><span>‡§µ‡§∞‡•ç‡§ó ‡§´‡•Ä‡§ü</span> <b>${ft.toFixed(2)} ft¬≤</b></div>
                <div class="res-item"><span>‡§µ‡§∞‡•ç‡§ó ‡§ó‡§ú</span> <b>${guz.toFixed(2)} Guz¬≤</b></div>
                <div class="res-item"><span>‡§µ‡§∞‡•ç‡§ó ‡§Æ‡•Ä‡§ü‡§∞</span> <b>${mtr.toFixed(2)} m¬≤</b></div>
                <div class="res-item"><span>‡§°‡§ø‡§∏‡§Æ‡§ø‡§≤</span> <b>${dec.toFixed(3)} Dec</b></div>
                <div class="res-item highlight" style="background:#e0e7ff; padding:10px; border-radius:8px;">
                    <span>‡§ï‡•Å‡§≤ ‡§ß‡•Å‡§∞</span> <b>${dhur.toFixed(3)} ‡§ß‡•Å‡§∞</b>
                </div>
                <div class="res-item" style="font-size:18px;">
                    <span>‡§™‡•à‡§Æ‡§æ‡§á‡§∂:</span> <span class="highlight">${resKDH}</span>
                </div>`;
            
            svg = createScaledDiagram(s, dimensions, unit);
            document.getElementById('diagram').innerHTML = svg;
            
            saveH(s, areaKadi, ft, dec, resKDH, laggi, dimensions, paimana);
        } catch(e) { 
            if(e === "InvalidTri") alert("‡§ó‡§≤‡§§ ‡§Æ‡§æ‡§™! ‡§á‡§® ‡§≠‡•Å‡§ú‡§æ‡§ì‡§Ç ‡§∏‡•á ‡§Ü‡§ï‡§æ‡§∞ ‡§∏‡§Ç‡§≠‡§µ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§");
            else if(e === "NoShape") alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§Ü‡§ï‡§æ‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç!");
            else alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§∏‡§π‡•Ä ‡§Æ‡§æ‡§™ ‡§≠‡§∞‡•á‡§Ç!"); 
        }
    }

    function breakdown(d) { 
        let b=Math.floor(d/400), rB=d%400, k=Math.floor(rB/20), r=rB%20, dh=Math.floor(r), dk=Math.round((r-dh)*20); 
        if(dk>=20){dh++;dk=0} if(dh>=20){k++;dh=0} if(k>=20){b++;k=0} 
        return (b>0?b+" ‡§¨‡•Ä‡§ò‡§æ - ":"")+k+" ‡§ï‡§ü‡•ç‡§†‡§æ - "+dh+" ‡§ß‡•Å‡§∞ - "+dk+" ‡§ß‡•Å‡§∞‡§ï‡•Ä"; 
    }

    function saveH(shape, kadi, ft, dec, kdh, laggi, dimensions, paimana) { 
        let h = JSON.parse(localStorage.getItem('landCalcHist')) || []; 
        h.unshift({
            id: Date.now(), 
            shape, 
            kadi: kadi.toFixed(1), 
            ft: ft.toFixed(2), 
            dec: dec.toFixed(3), 
            kdh, 
            laggi, 
            dimensions: JSON.stringify(dimensions),
            paimana: paimana,
            time: new Date().toLocaleTimeString('hi-IN'),
            date: new Date().toLocaleDateString('hi-IN')
        }); 
        localStorage.setItem('landCalcHist', JSON.stringify(h.slice(0, 15))); 
        renderHistory(); 
        updateHistoryCount();
    }

    function renderHistory() { 
        const list = document.getElementById('historyList'); 
        let h = JSON.parse(localStorage.getItem('landCalcHist')) || []; 
        
        if(!h.length) {
            list.innerHTML = `
                <div class="no-history">
                    <div style="font-size: 24px; margin-bottom: 10px;">üìù</div>
                    <div>‡§Ö‡§≠‡•Ä ‡§§‡§ï ‡§ï‡•ã‡§à ‡§ó‡§£‡§®‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡•Ä ‡§ó‡§à ‡§π‡•à</div>
                    <div style="font-size: 12px; margin-top: 5px;">‡§™‡§π‡§≤‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§Ø‡§π‡§æ‡§Å ‡§¶‡§ø‡§ñ‡•á‡§ó‡•Ä</div>
                </div>`; 
            return;
        } 
        
        list.innerHTML = h.map(x => {
            const dims = JSON.parse(x.dimensions || '{}');
            let dimText = '';
            
            if (x.shape === 'rectangle') {
                dimText = `${dims.L || 0} √ó ${dims.W || 0}`;
            } else if (x.shape === 'square') {
                dimText = `${dims.S || 0} √ó ${dims.S || 0}`;
            } else if (x.shape === 'triangle') {
                dimText = `${dims.A || 0}, ${dims.B || 0}, ${dims.C || 0}`;
            } else if (x.shape === 'parallelogram') {
                dimText = `N${dims.m1 || 0} E${dims.m2 || 0} S${dims.m3 || 0} W${dims.m4 || 0}`;
            }
            
            let paimanaBadge = "";
            if (x.paimana === "32") {
                paimanaBadge = '<span style="background:#fef3c7; color:#92400e; padding:2px 6px; border-radius:10px; font-size:10px; margin-left:5px;">32"</span>';
            } else if (x.paimana === "64") {
                paimanaBadge = '<span style="background:#dbeafe; color:#1e40af; padding:2px 6px; border-radius:10px; font-size:10px; margin-left:5px;">64"</span>';
            }
            
            return `
            <div class="history-item">
                <div class="history-item-header">
                    <div class="history-time">
                        <span>üïí</span>
                        ${x.time} | ${x.date}
                    </div>
                    <div class="history-shape">
                        ${x.shape.toUpperCase()} ${paimanaBadge}
                    </div>
                </div>
                
                <div class="history-laggi">
                    ‡§≤‡§ó‡•ç‡§ó‡•Ä: ${x.laggi} ‡§π‡§æ‡§•
                </div>
                
                <div class="history-main">
                    ${x.kdh}
                </div>
                
                ${dimText ? `<div style="text-align: center; font-size: 11px; color: #64748b; margin: 5px 0;">${dimText}</div>` : ''}
                
                <div class="history-grid">
                    <div class="history-grid-item">
                        <span>‡§µ‡§∞‡•ç‡§ó ‡§ï‡§°‡§º‡•Ä</span>
                        <span>${x.kadi}</span>
                    </div>
                    <div class="history-grid-item">
                        <span>‡§µ‡§∞‡•ç‡§ó ‡§´‡•Ä‡§ü</span>
                        <span>${x.ft}</span>
                    </div>
                    <div class="history-grid-item">
                        <span>‡§°‡§ø‡§∏‡§Æ‡§ø‡§≤</span>
                        <span>${x.dec}</span>
                    </div>
                    <div class="history-grid-item">
                        <span>‡§™‡•à‡§Æ‡§æ‡§®‡§æ</span>
                        <span>${x.paimana}"</span>
                    </div>
                </div>
            </div>`;
        }).join(''); 
    }

    function updateHistoryCount() {
        const h = JSON.parse(localStorage.getItem('landCalcHist')) || [];
        document.getElementById('historyCount').textContent = h.length;
    }

    function resetAll() { 
        document.querySelectorAll('#inputs input').forEach(i => i.value=""); 
        document.getElementById('resultCard').style.display="none"; 
        document.getElementById('warningArea').innerHTML = "";
        document.getElementById('diagram').innerHTML = "";
        document.getElementById('scaleInfo').innerHTML = "";
    }
    
    // Load ads
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</body>
</html>